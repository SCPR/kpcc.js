(function(){var t={}.hasOwnProperty,r=function(r,n){function c(){this.constructor=r}for(var e in n)t.call(n,e)&&(r[e]=n[e]);return c.prototype=n.prototype,r.prototype=new c,r.__super__=n.prototype,r};window.kpcc={API_ROOT:"http://www.scpr.org/api/v3/",NESTED_OBJECTS:{category:kpcc.Category,assets:kpcc.Asset,audio:kpcc.Audio,attributions:kpcc.Attribution,program:kpcc.Program,location:kpcc.Location,sponsor:kpcc.Sponsor},api_url:function(t){return API_ROOT+t}},kpcc.Entity=function(){function t(t){var r,n,c,e;for(e=this.attributes,n=0,c=e.length;c>n;n++)r=e[n],this[r]=t[r];for(r in this.nested_objects)this[key]=new kpcc.NESTED_OBJECTS[r](t[r])}var r,n;return r=[],n=[],t}(),kpcc.ApiEntity=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.ENDPOINT=null,n.KEY_PLURAL=null,n.KEY_SINGULAR=null,n.query=function(t,r){return null==t&&(t={}),$.ajax({type:"GET",dataType:"json",url:kpcc.api_url(this.ENDPOINT),data:t,success:function(t){var n,c,e,i,u;for(n={},u=t[this.KEY_PLURAL],e=0,i=u.length;i>e;e++)c=u[e],n.push(new this(c));return r.bind(n)()}})},n.find=function(t,r){return $.ajax({type:"GET",dataType:"json",url:kpcc.api_url(this.ENDPOINT),data:{id:t},success:function(t){return r.bind(collection)(t[this.KEY_SINGULAR])}})},n}(kpcc.Entity),kpcc.Abstract=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),c=["source","url","headline","summary","article_published_at"],e=["assets","audio","category"],n}(kpcc.Entity),kpcc.Alert=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),n.ENDPOINT="alerts",n.KEY_SINGULAR="alert",n.KEY_PLURAL="alerts",c=["id","headline","type","published_at","teaser","public_url","mobile_notification_sent","email_notification_sent"],n}(kpcc.ApiEntity),kpcc.Article=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="articles",n.KEY_SINGULAR="article",n.KEY_PLURAL="articles",c=["id","title","short_title","byline","published_at","teaser","body","public_url","thumbnail"],e=["assets","audio","category","attributions"],n}(kpcc.ApiEntity),kpcc.Asset=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),c=["title","caption","owner","native","thumbnail","small","large","full"],n}(kpcc.Entity),kpcc.Attribution=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),c=["name","role_text","role"],n}(kpcc.Entity),kpcc.Audio=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),n.ENDPOINT="audio",n.KEY_SINGULAR="audio",n.KEY_PLURAL="audio",c=["id","description","url","byline","uploaded_at","position","duration","filesize","article_obj_key"],n}(kpcc.ApiEntity),kpcc.Blog=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),n.ENDPOINT="articles",n.KEY_SINGULAR="article",n.KEY_PLURAL="articles",c=["title","slug","tagline","description","rss_url","public_url"],n}(kpcc.ApiEntity),kpcc.Bucket=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="buckets",n.KEY_SINGULAR="bucket",n.KEY_PLURAL="buckets",c=["title","slug","updated_at"],e=["articles"],n}(kpcc.ApiEntity),kpcc.Category=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),n.ENDPOINT="categories",n.KEY_SINGULAR="category",n.KEY_PLURAL="categories",c=["id","slug","title","public_url"],n}(kpcc.ApiEntity),kpcc.DataPoint=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),n.ENDPOINT="data_points",n.KEY_SINGULAR="data_point",n.KEY_PLURAL="data_points",c=["title","group","key","value","notes","updated_at"],n}(kpcc.ApiEntity),kpcc.Edition=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="editions",n.KEY_SINGULAR="edition",n.KEY_PLURAL="editions",c=["id","title","published_at"],e=["abstracts"],n}(kpcc.ApiEntity),kpcc.Episode=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="episodes",n.KEY_SINGULAR="episode",n.KEY_PLURAL="episodes",c=["title","summary","air_date","public_url"],e=["assets","audio","program","segments"],n}(kpcc.ApiEntity),kpcc.Event=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="events",n.KEY_SINGULAR="event",n.KEY_PLURAL="events",c=["id","title","public_url","starts_at","ends_at","is_all_day","teaser","body","past_tense_body","hashtag","event_type","is_kpcc_event","rsvp_url"],e=["assets","audio","program","location","sponsor"],n}(kpcc.ApiEntity),kpcc.Location=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),c=["title","url","address"],n}(kpcc.Entity),kpcc.Program=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="programs",n.KEY_SINGULAR="program",n.KEY_PLURAL="programs",c=["title","slug","host","air_status","twitter_handle","airtime","description","podcast_url","rss_url","public_url"],e=["assets","audio","category","attributions"],n}(kpcc.ApiEntity),kpcc.ScheduleOccurrence=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c,e;return r(n,t),n.ENDPOINT="schedule",n.KEY_SINGULAR="schedule_occurrence",n.KEY_PLURAL="schedule_occurrences",c=["title","public_url","starts_at","ends_at","is_recurring"],e=["program"],n}(kpcc.ApiEntity),kpcc.Sponsor=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var c;return r(n,t),c=["title","url"],n}(kpcc.Entity)}).call(this);